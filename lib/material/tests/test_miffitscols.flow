import material/material_ui;

main() {
	setRendererType("html");
	manager = makeMaterialManager([]);

	overflowed = make([]);
	fpprint("overflowed")(overflowed);

	menuEnabled = make(true);

	content =
		MBaselineColsA([
			MText("TEXT", []),
			MIfFitsCols(
				const([
					MIfFitsColsItem(MIconButton("android", nop, [], []), [MIfFitsColsItemPriority(1), MIfFitsColsOverflowView(MMenuSingleLine("ANDROID", []))]),
					MIfFitsColsItem(MIconButton("arrow_left", nop, [], []), [MIfFitsColsItemPriority(0), MIfFitsColsOverflowView(MMenuSingleLine("LEFT", []))]),
					MIfFitsColsItem(MIconButton("arrow_right", nop, [], []), [MIfFitsColsItemPriority(3), MIfFitsColsOverflowView(MMenuSingleLine("RIGHT", []))]),
					MIfFitsColsItem(MIconButton("gps_fixed", nop, [], []), [MIfFitsColsItemPriority(2)])
				]),
				[MIfFitsColsOverflowItems(overflowed), MIfFitsColsMenuButton(menuEnabled)]
			)
			|> MAlignEnd
		])
		|> (\m -> MLines2(
				m,
				MSwitchControl(menuEnabled, [])
			));

	mrender(manager, true, content);
}